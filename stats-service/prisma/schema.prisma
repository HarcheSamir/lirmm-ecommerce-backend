// stats-service/prisma/schema.prisma
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model DailyAggregate {
  date               DateTime @id @db.Date
  revenue            Decimal  @default(0) @db.Decimal(12, 2)
  cogs               Decimal  @default(0) @db.Decimal(12, 2)
  orderCount         Int      @default(0)
  newCustomerCount   Int      @default(0)

  @@map("daily_aggregates")
}

model ProductPerformance {
  productId             String   @id
  productName           String
  totalUnitsSold        Int      @default(0)
  totalRevenueGenerated Decimal  @default(0) @db.Decimal(12, 2)
  updatedAt             DateTime @updatedAt

  @@map("product_performance")
}